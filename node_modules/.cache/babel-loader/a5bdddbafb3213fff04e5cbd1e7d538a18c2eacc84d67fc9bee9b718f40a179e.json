{"ast":null,"code":"import Main from\"./Main\";import Header from\"./Header\";import Loader from\"./Loader\";import Error from\"./Error\";import Questions from\"./Questions\";import{useEffect,useReducer}from\"react\";import StartScreen from\"./StartScreen\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const intialState={questions:[],// loading || error || ready || active || finished\nstatus:\"loading\",index:0};function reducer(state,action){switch(action.type){case\"dataRecived\":return{...state,questions:action.payload,status:\"ready\"};case\"dataFailed\":return{...state,status:\"error\"};case\"start\":return{...state,status:\"active\"};default:throw new Error(\"Action unknown\");}}export default function App(){const[{questions,status,index},dispatch]=useReducer(reducer,intialState);const numQuestions=questions.length;useEffect(function(){async function fetchQuestions(){try{const res=await fetch(\"http://localhost:8000/questions\");const data=await res.json();console.log(data);dispatch({type:\"dataRecived\",payload:data});}catch(error){console.error(\"Error fetching data:\",error);dispatch({type:\"dataFailed\"});}}fetchQuestions();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Main,{children:[status===\"loading\"&&/*#__PURE__*/_jsx(Loader,{}),status===\"error\"&&/*#__PURE__*/_jsx(Error,{}),status===\"ready\"&&/*#__PURE__*/_jsx(StartScreen,{numQuestions:numQuestions,dispatch:dispatch}),status===\"active\"&&/*#__PURE__*/_jsx(Questions,{question:questions[index]})]})]});}","map":{"version":3,"names":["Main","Header","Loader","Error","Questions","useEffect","useReducer","StartScreen","jsx","_jsx","jsxs","_jsxs","intialState","questions","status","index","reducer","state","action","type","payload","App","dispatch","numQuestions","length","fetchQuestions","res","fetch","data","json","console","log","error","className","children","question"],"sources":["/workspaces/react-quiz/src/components/App.js"],"sourcesContent":["import Main from \"./Main\";\nimport Header from \"./Header\";\nimport Loader from \"./Loader\";\nimport Error from \"./Error\";\nimport Questions from \"./Questions\";\n\nimport { useEffect, useReducer } from \"react\";\nimport StartScreen from \"./StartScreen\";\n\nconst intialState = {\n  questions: [],\n  // loading || error || ready || active || finished\n  status: \"loading\",\n  index: 0,\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"dataRecived\":\n      return {\n        ...state,\n        questions: action.payload,\n        status: \"ready\",\n      };\n    case \"dataFailed\":\n      return {\n        ...state,\n        status: \"error\",\n      };\n    case \"start\":\n      return {\n        ...state,\n        status: \"active\",\n      };\n    default:\n      throw new Error(\"Action unknown\");\n  }\n}\n\nexport default function App() {\n  const [{ questions, status, index }, dispatch] = useReducer(\n    reducer,\n    intialState\n  );\n  const numQuestions = questions.length;\n  useEffect(function () {\n    async function fetchQuestions() {\n      try {\n        const res = await fetch(\"http://localhost:8000/questions\");\n        const data = await res.json();\n        console.log(data);\n\n        dispatch({ type: \"dataRecived\", payload: data });\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n        dispatch({ type: \"dataFailed\" });\n      }\n    }\n    fetchQuestions();\n  }, []);\n\n  return (\n    <div className=\"app\">\n      <Header />\n\n      <Main>\n        {status === \"loading\" && <Loader />}\n        {status === \"error\" && <Error />}\n        {status === \"ready\" && (\n          <StartScreen numQuestions={numQuestions} dispatch={dispatch} />\n        )}\n        {status === \"active\" && <Questions question={questions[index]} />}\n      </Main>\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,IAAI,KAAM,QAAQ,CACzB,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,SAAS,KAAM,aAAa,CAEnC,OAASC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC7C,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,WAAW,CAAG,CAClBC,SAAS,CAAE,EAAE,CACb;AACAC,MAAM,CAAE,SAAS,CACjBC,KAAK,CAAE,CACT,CAAC,CAED,QAAS,CAAAC,OAAOA,CAACC,KAAK,CAAEC,MAAM,CAAE,CAC9B,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,aAAa,CAChB,MAAO,CACL,GAAGF,KAAK,CACRJ,SAAS,CAAEK,MAAM,CAACE,OAAO,CACzBN,MAAM,CAAE,OACV,CAAC,CACH,IAAK,YAAY,CACf,MAAO,CACL,GAAGG,KAAK,CACRH,MAAM,CAAE,OACV,CAAC,CACH,IAAK,OAAO,CACV,MAAO,CACL,GAAGG,KAAK,CACRH,MAAM,CAAE,QACV,CAAC,CACH,QACE,KAAM,IAAI,CAAAX,KAAK,CAAC,gBAAgB,CAAC,CACrC,CACF,CAEA,cAAe,SAAS,CAAAkB,GAAGA,CAAA,CAAG,CAC5B,KAAM,CAAC,CAAER,SAAS,CAAEC,MAAM,CAAEC,KAAM,CAAC,CAAEO,QAAQ,CAAC,CAAGhB,UAAU,CACzDU,OAAO,CACPJ,WACF,CAAC,CACD,KAAM,CAAAW,YAAY,CAAGV,SAAS,CAACW,MAAM,CACrCnB,SAAS,CAAC,UAAY,CACpB,cAAe,CAAAoB,cAAcA,CAAA,CAAG,CAC9B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,iCAAiC,CAAC,CAC1D,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,GAAG,CAACG,IAAI,CAAC,CAAC,CAC7BC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC,CAEjBN,QAAQ,CAAC,CAAEH,IAAI,CAAE,aAAa,CAAEC,OAAO,CAAEQ,IAAK,CAAC,CAAC,CAClD,CAAE,MAAOI,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CV,QAAQ,CAAC,CAAEH,IAAI,CAAE,YAAa,CAAC,CAAC,CAClC,CACF,CACAM,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEd,KAAA,QAAKsB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBzB,IAAA,CAACR,MAAM,GAAE,CAAC,cAEVU,KAAA,CAACX,IAAI,EAAAkC,QAAA,EACFpB,MAAM,GAAK,SAAS,eAAIL,IAAA,CAACP,MAAM,GAAE,CAAC,CAClCY,MAAM,GAAK,OAAO,eAAIL,IAAA,CAACN,KAAK,GAAE,CAAC,CAC/BW,MAAM,GAAK,OAAO,eACjBL,IAAA,CAACF,WAAW,EAACgB,YAAY,CAAEA,YAAa,CAACD,QAAQ,CAAEA,QAAS,CAAE,CAC/D,CACAR,MAAM,GAAK,QAAQ,eAAIL,IAAA,CAACL,SAAS,EAAC+B,QAAQ,CAAEtB,SAAS,CAACE,KAAK,CAAE,CAAE,CAAC,EAC7D,CAAC,EACJ,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}